@tailwind base;
@tailwind components;
@tailwind utilities;

/* Design tokens (CSS variables) */
:root {
	--cx-brand: #1A0F50; /* azul origen (acento principal) */
	--cx-accent: #0763FD; /* azul secundario */
	--cx-ink: #0f172a;   /* texto principal */
	--cx-muted: #64748b; /* texto secundario */
	--cx-bg: #f8fafc;    /* fondo app */
	--cx-surface: #ffffff;
	--cx-radius: 1rem;   /* 2xl */
	--cx-shadow: 0 8px 24px rgba(16,24,40,0.08);
	--cx-duration: 150ms;
	--cx-ease: cubic-bezier(0.4, 0, 0.2, 1);
}

@layer base {
	html { scroll-behavior: smooth; }
	body { @apply bg-background text-ink antialiased; }
	h1 { font-weight: 800; letter-spacing: -0.02em; font-size: clamp(1.875rem, 1.2rem + 2vw, 2.5rem); }
	h2 { font-weight: 700; letter-spacing: -0.02em; font-size: clamp(1.5rem, 1rem + 1.5vw, 2rem); }
	h3 { font-weight: 600; letter-spacing: -0.01em; font-size: clamp(1.125rem, 0.9rem + 0.8vw, 1.5rem); }
}

/* Components & helpers (kept inside Tailwind layer for correct ordering) */
@layer components {
	.container-sm { @apply max-w-2xl mx-auto px-4; }
	.card { @apply bg-surface rounded-2xl border border-slate-100; box-shadow: var(--cx-shadow); }
	.btn { @apply inline-flex items-center justify-center rounded-2xl px-4 py-2 text-sm font-medium transition-all; transition-duration: var(--cx-duration); transition-timing-function: var(--cx-ease); }
	.btn-primary { @apply btn text-white hover:brightness-110 active:scale-[.99]; background-color: var(--cx-brand); }
	.btn-ghost { @apply btn bg-transparent hover:bg-white/60; }
	.input { @apply w-full rounded-2xl border border-slate-200 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:border-transparent bg-white; box-shadow: none; }
	.label { @apply block text-sm font-medium text-slate-700 mb-1; }
	.helper { @apply text-xs text-slate-500; }
	.error { @apply text-xs text-red-600 mt-1; }
	/* Custom height for better legibility */
	.h-13 { height: 3.25rem; /* 52px */ }
	/* Animated gradient for buttons */
	@keyframes gradient {
		0%, 100% { background-position: 0% 50%; }
		50% { background-position: 100% 50%; }
	}
	.animate-gradient {
		background-size: 200% 100%;
		animation: gradient 3s linear infinite;
	}
	/* Hide browser number spinners when using .no-spin */
	.no-spin::-webkit-outer-spin-button, .no-spin::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }
	.no-spin { -moz-appearance: textfield; }
}

	/* Inverted theme for wizard */
	.wizard-invert { color: #fff; background-color: var(--cx-brand); border-color: rgba(255,255,255,0.12); }
	.wizard-invert .label { color: #fff; }
	.wizard-invert .helper { color: rgba(255,255,255,0.85); }
	.wizard-invert .error { color: #fecaca; }
	.wizard-invert .input { background-color: #fff; color: var(--cx-ink); }
	.wizard-invert .btn-primary { background-color: #fff; color: var(--cx-brand); }
	.wizard-invert .btn-primary:hover { filter: brightness(0.98); }

/* Focus ring refinement outside apply (browser-native) */
.input:focus { box-shadow: 0 0 0 2px color-mix(in oklab, var(--cx-brand) 30%, transparent); border-color: color-mix(in oklab, var(--cx-brand) 40%, transparent); }

/* Range slider (modern look) */
input[type="range"] {
	-webkit-appearance: none; appearance: none; width: 100%; height: 0.5rem; border-radius: 9999px; background: #e2e8f0; /* slate-200 */ outline: none; transition: background var(--cx-duration) var(--cx-ease);
}
input[type="range"]::-webkit-slider-thumb {
	-webkit-appearance: none; appearance: none; width: 1rem; height: 1rem; border-radius: 9999px; background: var(--cx-brand); box-shadow: 0 1px 2px rgba(2,6,23,0.2); border: 2px solid #fff; cursor: pointer; transition: transform var(--cx-duration) var(--cx-ease);
}
input[type="range"]::-moz-range-thumb {
	width: 1rem; height: 1rem; border-radius: 9999px; background: var(--cx-brand); border: 2px solid #fff; cursor: pointer;
}
input[type="range"]:active::-webkit-slider-thumb { transform: scale(0.98); }

/* Button spinner helper */
.btn .spinner {
	width: 1rem; height: 1rem; border-radius: 9999px; border: 2px solid rgba(255,255,255,0.6); border-top-color: #fff; animation: cx-spin 0.8s linear infinite;
}
@keyframes cx-spin { to { transform: rotate(360deg); } }
